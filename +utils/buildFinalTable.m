% T_final summarizes all results (example given at the end of the function)

function T_final = buildFinalTable(Final, preci)

    T_final = table(Final.mod_names,...
        round(Final.pred_err, preci), ... % prediction error
        round(Final.avg_nac(:,1), preci), round(Final.avg_nac(:,2), preci), ... % average nac
        round(Final.avg_rac(:,1), preci), round(Final.avg_rac(:,2), preci), ... % average rac
        round(Final.avg_wrac(:,1), preci), round(Final.avg_wrac(:,2), preci), ... % average weighted rac
        round(Final.avg_cct(:,1), preci), round(Final.avg_cct(:,2), preci), ... % average cct
        round(Final.avg_cct_norm(:,1), preci), round(Final.avg_cct_norm(:,2), preci), ... % average normalized cct
            round(Final.avg_comp_rac, preci), ...
            round(Final.avg_comp_cct, preci), ...
        round(Final.Pr_rac(:,1), preci), ...				% percentiles of rac
			round(Final.Pr_rac(:,2), preci), ...
			round(Final.Pr_rac(:,3), preci), ...	
			round(Final.Pr_rac(:,4), preci), ...
			round(Final.Pr_rac(:,5), preci), ...
		round(Final.Pr_cct(:,1), preci), ...				% percentiles of cct
            round(Final.Pr_cct(:,2), preci), ...
            round(Final.Pr_cct(:,3), preci), ...
            round(Final.Pr_cct(:,4), preci), ...
            round(Final.Pr_cct(:,5), preci), ...         
		round(Final.Pr_cct_norm(:,1), preci), ...			% percentiles of cct_norm
			round(Final.Pr_cct_norm(:,2), preci), ...
			round(Final.Pr_cct_norm(:,3), preci), ...
			round(Final.Pr_cct_norm(:,4), preci), ...
			round(Final.Pr_cct_norm(:,5), preci), ... 
        round(Final.Pr_comp_rac(:,1), preci), ...			% percentiles of comp_rac
			round(Final.Pr_comp_rac(:,2), preci), ...
			round(Final.Pr_comp_rac(:,3), preci), ...
			round(Final.Pr_comp_rac(:,4), preci), ...
			round(Final.Pr_comp_rac(:,5), preci), ...
		round(Final.Pr_comp_cct(:,1), preci), ...			% percentiles of comp_cct
            round(Final.Pr_comp_cct(:,2), preci), ...
            round(Final.Pr_comp_cct(:,3), preci), ...
            round(Final.Pr_comp_cct(:,4), preci), ...
            round(Final.Pr_comp_cct(:,5), preci), ...
		round(Final.Pr_comp_cct_norm(:,1), preci), ...		% percentiles of comp_cct_norm
            round(Final.Pr_comp_cct_norm(:,2), preci), ...
            round(Final.Pr_comp_cct_norm(:,3), preci), ...
            round(Final.Pr_comp_cct_norm(:,4), preci), ...
            round(Final.Pr_comp_cct_norm(:,5), preci), ...
        round(Final.avg_t_sch(:,1), 3), ...					% average scheduling time
		round(Final.avg_t_sch(:,2), 3), ...
        round(Final.avg_time(:,1), 3), ...					% average time
		round(Final.avg_time(:,2), 3)...
    ); 
    T_final.Properties.VariableNames = {...
        'method','pred_err','nac_avg','nac_dev','rac_avg','rac_dev', 'wrac_avg', 'wrac_dev', ...
        'cct_avg','cct_dev','cct_norm_avg','cct_norm_dev','avg_comp_rac','avg_comp_cct',...
        'rac_Pr01','rac_Pr10','rac_Pr50','rac_Pr90','rac_Pr99'...
        'cct_Pr01','cct_Pr10','cct_Pr50','cct_Pr90','cct_Pr99'...
        'cct_norm_Pr01','cct_norm_Pr10','cct_norm_Pr50','cct_norm_Pr90','cct_norm_Pr99'...
        'comp_rac_Pr01','comp_rac_Pr10','comp_rac_Pr50','comp_rac_Pr90','comp_rac_Pr99'...
        'comp_cct_Pr01','comp_cct_Pr10','comp_cct_Pr50','comp_cct_Pr90','comp_cct_Pr99',...
        'comp_cct_norm_Pr01','comp_cct_norm_Pr10','comp_cct_norm_Pr50','comp_cct_norm_Pr90','comp_cct_norm_Pr99',...
        't_sch_avg','t_sch_dev','t_avg','t_dev'};

    % writetable(T_final, strcat(base_path, '/results/temp.txt'), 'Delimiter', ' '); 
    % writetable(T_final, T_final_dir, 'Delimiter', ' ');
end





% Example of T_final:
% 
%           method              pred_err    nac_avg    nac_dev    rac_avg    rac_dev    cct_avg    cct_dev    cct_norm_avg    cct_norm_dev    avg_comp_rac    avg_comp_cct    rac_Pr01    rac_Pr10    rac_Pr50    rac_Pr90    rac_Pr99    cct_Pr01    cct_Pr10    cct_Pr50    cct_Pr90    cct_Pr99    cct_norm_Pr01    cct_norm_Pr10    cct_norm_Pr50    cct_norm_Pr90    cct_norm_Pr99    comp_rac_Pr01    comp_rac_Pr10    comp_rac_Pr50    comp_rac_Pr90    comp_rac_Pr99    comp_cct_Pr01    comp_cct_Pr10    comp_cct_Pr50    comp_cct_Pr90    comp_cct_Pr99    comp_cct_norm_Pr01    comp_cct_norm_Pr10    comp_cct_norm_Pr50    comp_cct_norm_Pr90    comp_cct_norm_Pr99    t_sch_avg    t_sch_dev    t_avg    t_dev
% __________________________    ________    _______    _______    _______    _______    _______    _______    ____________    ____________    ____________    ____________    ________    ________    ________    ________    ________    ________    ________    ________    ________    ________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    _____________    __________________    __________________    __________________    __________________    __________________    _________    _________    _____    _____
% 
% 'maxCdsOptim'                    0           3          0          0.5        0       2.0018        0          1.4967            0                  0               0           0.5         0.5         0.5         0.5         0.5      2.0018      2.0018      2.0018      2.0018      2.0018        1.4967           1.4967           1.4967           1.4967           1.4967                 0                0                0                0                0                0                0                0                0                0                  0                     0                     0                     0                     0                0          0        0.359      0  
% 'maxCdsRelax'                    0           2          0       0.3333        0       1.7672        0          1.7914            0            -0.3333         -0.1172        0.3333      0.3333      0.3333      0.3333      0.3333      1.7672      1.7672      1.7672      1.7672      1.7672        1.7914           1.7914           1.7914           1.7914           1.7914           -0.3333          -0.3333          -0.3333          -0.3333          -0.3333          -0.1172          -0.1172          -0.1172          -0.1172          -0.1172            -0.1969               -0.1969               -0.1969               -0.1969               -0.1969                0          0        0.141      0  
% 'cs_mha'                         0           3          0          0.5        0       1.3868        0          1.2487            0                  0         -0.3072           0.5         0.5         0.5         0.5         0.5      1.3868      1.3868      1.3868      1.3868      1.3868        1.2487           1.2487           1.2487           1.2487           1.2487                 0                0                0                0                0          -0.3072          -0.3072          -0.3072          -0.3072          -0.3072             0.1657                0.1657                0.1657                0.1657                0.1657            0.797          0        1.016      0  
% 'heu_v2_min_sum_negative'        0           3          0          0.5        0       1.4686        0          1.2487            0                  0         -0.2664           0.5         0.5         0.5         0.5         0.5      1.4686      1.4686      1.4686      1.4686      1.4686        1.2487           1.2487           1.2487           1.2487           1.2487                 0                0                0                0                0          -0.2664          -0.2664          -0.2664          -0.2664          -0.2664             0.1657                0.1657                0.1657                0.1657                0.1657            0.109          0        0.141      0  
% 'heu_v2_min_sum_congested'       0           3          0          0.5        0       1.4686        0          1.2487            0                  0         -0.2664           0.5         0.5         0.5         0.5         0.5      1.4686      1.4686      1.4686      1.4686      1.4686        1.2487           1.2487           1.2487           1.2487           1.2487                 0                0                0                0                0          -0.2664          -0.2664          -0.2664          -0.2664          -0.2664             0.1657                0.1657                0.1657                0.1657                0.1657            0.063          0        0.078      0  
% 'sincronia'                      0           2          0       0.3333        0       0.9853        0               1            0            -0.3333         -0.5078        0.3333      0.3333      0.3333      0.3333      0.3333      0.9853      0.9853      0.9853      0.9853      0.9853             1                1                1                1                1           -0.3333          -0.3333          -0.3333          -0.3333          -0.3333          -0.5078          -0.5078          -0.5078          -0.5078          -0.5078             0.3319                0.3319                0.3319                0.3319                0.3319            0.047          0        0.078      0  
% 'varys'                          0           2          0       0.3333        0       0.9851        0          0.9998            0            -0.3333         -0.5079        0.3333      0.3333      0.3333      0.3333      0.3333      0.9851      0.9851      0.9851      0.9851      0.9851        0.9998           0.9998           0.9998           0.9998           0.9998           -0.3333          -0.3333          -0.3333          -0.3333          -0.3333          -0.5079          -0.5079          -0.5079          -0.5079          -0.5079              0.332                 0.332                 0.332                 0.332                 0.332                0          0        0.094      0  



